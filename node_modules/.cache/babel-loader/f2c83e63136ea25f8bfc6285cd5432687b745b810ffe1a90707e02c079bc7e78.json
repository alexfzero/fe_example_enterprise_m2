{"ast":null,"code":"// eslint-disable-next-line no-unused-vars\nimport { addGetParameters, loadData } from \"@/helper\";\nexport default {\n  data() {\n    return {\n      search: {\n        value: '',\n        parameter: 'q',\n        in_process: false\n      },\n      options: {\n        sortBy: [],\n        sortDesc: []\n      },\n      pagination: {\n        size_name: 'size',\n        page_name: 'page',\n        need_reload: false,\n        page: 1,\n        count: 0,\n        size: 10,\n        next: false,\n        previous: false,\n        loading: false,\n        current: null,\n        filters: {},\n        footer_page: {\n          'items-per-page-options': [10, 25, 50],\n          'show-current-page': true,\n          'show-first-last-page': true\n        }\n      }\n    };\n  },\n  watch: {\n    // eslint-disable-next-line no-unused-vars\n    'pagination.page': function (nVal, oVal) {\n      this.setCurrentLoadUrl(this.addPageParameter(this.getCurrentLoadUrl()));\n    },\n    // eslint-disable-next-line no-unused-vars\n    'pagination.size': function (nVal, oVal) {\n      this.setCurrentLoadUrl(this.addSizeParameter(this.getCurrentLoadUrl()));\n    },\n    'pagination.current': function (nVal, oVal) {\n      if (nVal !== oVal && this.pagination.need_reload) this.loadData(this.getCurrentLoadUrl());\n      if (!this.pagination.need_reload) this.pagination.need_reload = true;\n    }\n  },\n  methods: {\n    cleanPaginationPageData() {\n      this.pagination.page = 1;\n      // this.need_reload = false;\n    },\n\n    cleanPaginationData() {\n      this.pagination.size = 10;\n      this.pagination.count = 0;\n      this.pagination.page = 1;\n      // this.need_reload = false;\n    },\n\n    mapResults: function (from, to) {\n      this[to] = from.results;\n      this.mapPagination(from);\n    },\n    mapPagination: function (from) {\n      this.pagination.count = from.count;\n      this.pagination.next = from.next !== null;\n      this.pagination.previous = from.previous !== null;\n    },\n    setCurrentLoadUrl(url) {\n      this.pagination.current = url;\n    },\n    getCurrentLoadUrl() {\n      return this.pagination.current;\n    },\n    addSizeParameter(url) {\n      return this.addGetParameter(url, this.pagination.size_name, this.pagination.size);\n    },\n    addPageParameter(url) {\n      return this.addGetParameter(url, this.pagination.page_name, this.pagination.page);\n    },\n    addGetParameter(url, key, value) {\n      return addGetParameters(url, {\n        [key]: value\n      });\n    },\n    reloadData: function () {\n      this.clearData();\n      this.loadData(this.getCurrentLoadUrl());\n    },\n    clearData() {},\n    // eslint-disable-next-line no-unused-vars\n    loadData(url = undefined) {}\n  }\n};","map":{"version":3,"names":["addGetParameters","loadData","data","search","value","parameter","in_process","options","sortBy","sortDesc","pagination","size_name","page_name","need_reload","page","count","size","next","previous","loading","current","filters","footer_page","watch","nVal","oVal","setCurrentLoadUrl","addPageParameter","getCurrentLoadUrl","addSizeParameter","methods","cleanPaginationPageData","cleanPaginationData","mapResults","from","to","results","mapPagination","url","addGetParameter","key","reloadData","clearData","undefined"],"sources":["/home/alex/gitProjects/fe_be_mk_example_enterprise/fe_example_enterprise_m2/src/mixins/PaginatedDataMapperMixin.js"],"sourcesContent":["// eslint-disable-next-line no-unused-vars\nimport {addGetParameters, loadData} from  \"@/helper\";\n\nexport default {\n    data() {\n        return {\n            search: {\n                value: '',\n                parameter: 'q',\n                in_process: false,\n            },\n            options: {\n                sortBy:[],\n                sortDesc:[]\n            },\n            pagination: {\n                size_name: 'size',\n                page_name: 'page',\n                need_reload: false,\n                page: 1,\n                count: 0,\n                size: 10,\n                next: false,\n                previous: false,\n                loading: false,\n                current: null,\n                filters: {},\n                footer_page: {\n                    'items-per-page-options':[10,25,50],\n                    'show-current-page': true,\n                    'show-first-last-page': true\n                }\n            },\n        }\n    },\n    watch: {\n        // eslint-disable-next-line no-unused-vars\n        'pagination.page': function (nVal, oVal) {\n            this.setCurrentLoadUrl(\n                this.addPageParameter(\n                    this.getCurrentLoadUrl()\n                )\n            )\n        },\n        // eslint-disable-next-line no-unused-vars\n        'pagination.size': function (nVal, oVal) {\n            this.setCurrentLoadUrl(\n                this.addSizeParameter(\n                    this.getCurrentLoadUrl()\n                )\n            )\n        },\n        'pagination.current': function (nVal, oVal) {\n            if(nVal !== oVal && this.pagination.need_reload)\n                this.loadData(\n                    this.getCurrentLoadUrl()\n                )\n            if(!this.pagination.need_reload)\n                this.pagination.need_reload = true;\n        }\n\n    },\n    methods: {\n        cleanPaginationPageData(){\n            this.pagination.page = 1;\n            // this.need_reload = false;\n        },\n        cleanPaginationData(){\n            this.pagination.size = 10;\n            this.pagination.count = 0;\n            this.pagination.page = 1;\n            // this.need_reload = false;\n        },\n        mapResults: function (from, to) {\n            this[to] = from.results;\n            this.mapPagination(from);\n        },\n        mapPagination: function (from) {\n            this.pagination.count = from.count;\n            this.pagination.next = from.next !== null;\n            this.pagination.previous = from.previous !== null;\n        },\n        setCurrentLoadUrl(url){\n            this.pagination.current = url;\n        },\n        getCurrentLoadUrl(){\n            return this.pagination.current;\n        },\n        addSizeParameter(url){\n            return this.addGetParameter(\n                url,\n                this.pagination.size_name,\n                this.pagination.size,\n            )\n        },\n        addPageParameter(url){\n            return this.addGetParameter(\n                url,\n                this.pagination.page_name,\n                this.pagination.page\n            )\n        },\n        addGetParameter(url, key, value){\n            return addGetParameters(url, {\n                [key]: value,\n            })\n        },\n        reloadData: function(){\n            this.clearData();\n            this.loadData(this.getCurrentLoadUrl());\n        },\n        clearData(){},\n        // eslint-disable-next-line no-unused-vars\n        loadData(url=undefined) {},\n    },\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}